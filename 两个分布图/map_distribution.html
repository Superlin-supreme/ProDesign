<!DOCTYPE html>
<html style="height:100%">
<head>
    <meta charset="utf-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1">    
    <meta name="description" content="地图区块中用饼图来表示具体数据的占比"> -->
    <title>公司投资占比</title>
    <script src="js/highmaps.js"></script>
    <script src="js/china.js"></script>
    <style type="text/css">
    *{
        margin: 0;
        padding: 0;
    }
    </style>
</head>
<body style="height:100%">
<!--
*************************************************************************
    Generated by HCODE at 2017-11-18 11:41:14
    From: https://code.hcharts.cn/highmaps/I4p8zm
*************************************************************************
-->
<div id="container" style="height:100%"></div>

<script>
    // 随机数据
// var data = [{"name":"北京","value":91},{"name":"天津","value":40},{"name":"河北","value":57},{"name":"山西","value":38},{"name":"内蒙古","value":82},{"name":"辽宁","value":80},{"name":"吉林","value":36},{"name":"黑龙江","value":69},{"name":"上海","value":58},{"name":"江苏","value":64},{"name":"浙江","value":24},{"name":"安徽","value":77},{"name":"福建","value":45},{"name":"江西","value":86},{"name":"山东","value":80},{"name":"河南","value":97},{"name":"湖北","value":11},{"name":"湖南","value":59},{"name":"广东","value":1},{"name":"广西","value":80},{"name":"海南","value":59},{"name":"重庆","value":15},{"name":"四川","value":25},{"name":"贵州","value":11},{"name":"云南","value":54},{"name":"西藏","value":50},{"name":"陕西","value":58},{"name":"甘肃","value":70},{"name":"青海","value":42},{"name":"宁夏","value":20},{"name":"新疆","value":43},{"name":"台湾","value":83},{"name":"香港","value":99},{"name":"澳门","value":18},{"name":"南海诸岛","value":74},{"name":"南海诸岛","value":42}];

// var data = [["GD","广东",3],["XJ","新疆",2],["HN","湖南",6],["SD","山东",9]];
var jsondata = '[{"Value":"GD","Desc":"广东","Count":3},{"Value":"XJ","Desc":"新疆","Count":2},{"Value":"HN","Desc":"湖南","Count":6},{"Value":"SD","Desc":"山东","Count":9}]';


//将json数据转化为js对象
var jsonobj = JSON.parse(jsondata);
// console.log(jsonobj);
var jsonArr = new Array(jsonobj.length);
for (var i = 0; i<jsonArr.length; i++) {
  jsonArr[i] = new Array(3);
}

for (var i = 0; i<jsonArr.length; i++) {
    jsonArr[i][0] = jsonobj[i].Value;
    jsonArr[i][1] = jsonobj[i].Desc;
    jsonArr[i][2] = jsonobj[i].Count;
}

// console.log(JSON.stringify(jsonArr));

// jsonobj = 

// 初始化图表
var map = new Highcharts.Map('container', {
  title: {
    text: '广东驳运公司对外投资分布图'
  },
  colorAxis: {
    min: 0,
    minColor: 'rgb(255,255,255)',
    maxColor: '#006cee',
  },
  mapNavigation: {
    enabled: true
        //地图导航器，可放大缩小地图
  },
  credits: {  
    enabled: false     //不显示LOGO 
  },  
  series: [{
    data: jsonArr, 
    name: '投资占比',
    mapData: Highcharts.maps['cn/china'],
    keys: ['ename','name', 'value'],
    joinBy: 'name'// 根据 name 属性进行关联
  }]
});
</script>
</body>
</html>